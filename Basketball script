local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Stats = game:GetService("Stats")

-- Create simple loader GUI
local LoaderGui = Instance.new("ScreenGui")
LoaderGui.Name = "InitialLoader"
LoaderGui.Parent = game.CoreGui
LoaderGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Main loader frame
local LoaderFrame = Instance.new("Frame")
LoaderFrame.Parent = LoaderGui
LoaderFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 45)
LoaderFrame.BorderSizePixel = 0
LoaderFrame.Position = UDim2.new(0.5, -125, 0.5, -75)
LoaderFrame.Size = UDim2.new(0, 250, 0, 150)

local LoaderCorner = Instance.new("UICorner")
LoaderCorner.CornerRadius = UDim.new(0, 15)
LoaderCorner.Parent = LoaderFrame

local LoaderStroke = Instance.new("UIStroke")
LoaderStroke.Parent = LoaderFrame
LoaderStroke.Color = Color3.fromRGB(100, 50, 255)
LoaderStroke.Thickness = 3

-- Title
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Parent = LoaderFrame
TitleLabel.BackgroundTransparency = 1
TitleLabel.Position = UDim2.new(0, 0, 0, 10)
TitleLabel.Size = UDim2.new(1, 0, 0, 40)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.Text = "üèÄ Basketball Legends"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 20

-- Subtitle
local SubtitleLabel = Instance.new("TextLabel")
SubtitleLabel.Parent = LoaderFrame
SubtitleLabel.BackgroundTransparency = 1
SubtitleLabel.Position = UDim2.new(0, 0, 0, 45)
SubtitleLabel.Size = UDim2.new(1, 0, 0, 25)
SubtitleLabel.Font = Enum.Font.Gotham
SubtitleLabel.Text = "Script Hub"
SubtitleLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
SubtitleLabel.TextSize = 14

-- Load button
local LoadButton = Instance.new("TextButton")
LoadButton.Parent = LoaderFrame
LoadButton.BackgroundColor3 = Color3.fromRGB(100, 50, 255)
LoadButton.BorderSizePixel = 0
LoadButton.Position = UDim2.new(0.5, -100, 0.5, 10)
LoadButton.Size = UDim2.new(0, 200, 0, 50)
LoadButton.Font = Enum.Font.GothamBold
LoadButton.Text = "üöÄ Load Script"
LoadButton.TextColor3 = Color3.fromRGB(255, 255, 255)
LoadButton.TextSize = 18
LoadButton.AutoButtonColor = false

local ButtonCorner = Instance.new("UICorner")
ButtonCorner.CornerRadius = UDim.new(0, 10)
ButtonCorner.Parent = LoadButton

-- Hover effect
LoadButton.MouseEnter:Connect(function()
    TweenService:Create(LoadButton, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(120, 70, 255),
        Size = UDim2.new(0, 210, 0, 55)
    }):Play()
end)

LoadButton.MouseLeave:Connect(function()
    TweenService:Create(LoadButton, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(100, 50, 255),
        Size = UDim2.new(0, 200, 0, 50)
    }):Play()
end)

-- Opening animation
LoaderFrame.Size = UDim2.new(0, 0, 0, 0)
LoaderFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
TweenService:Create(LoaderFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back), {
    Size = UDim2.new(0, 250, 0, 150),
    Position = UDim2.new(0.5, -125, 0.5, -75)
}):Play()

-- Load button click
LoadButton.MouseButton1Click:Connect(function()
    LoadButton.Text = "‚è≥ Loading..."
    LoadButton.BackgroundColor3 = Color3.fromRGB(70, 40, 180)
    
    wait(0.5)
    
    -- Close loader with animation
    TweenService:Create(LoaderFrame, TweenInfo.new(0.3), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0)
    }):Play()
    
    wait(0.3)
    LoaderGui:Destroy()
    
    -- Load the main hub
    local TS = game:GetService("TweenService")
    local UIS = game:GetService("UserInputService")
    local Plr = game:GetService("Players")

    -- Global variables for auto green
    local AutoGreenEnabled = false
    local AutoGuardEnabled = false
    local CurrentPing = 0

    -- Create ScreenGui
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "BasketballLegendsHub"
    ScreenGui.Parent = game.CoreGui
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Parent = ScreenGui
    MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    MainFrame.BorderSizePixel = 0
    MainFrame.Position = UDim2.new(0.5, -225, 0.5, -200)
    MainFrame.Size = UDim2.new(0, 450, 0, 400)
    MainFrame.ClipsDescendants = true
    MainFrame.Active = true
    MainFrame.Draggable = true

    local MainCorner = Instance.new("UICorner")
    MainCorner.CornerRadius = UDim.new(0, 12)
    MainCorner.Parent = MainFrame

    local MainStroke = Instance.new("UIStroke")
    MainStroke.Parent = MainFrame
    MainStroke.Color = Color3.fromRGB(100, 50, 255)
    MainStroke.Thickness = 2
    MainStroke.Transparency = 0.5

    -- Auto Green Indicator (Top Right Corner)
    local AutoGreenIndicator = Instance.new("Frame")
    AutoGreenIndicator.Name = "AutoGreenIndicator"
    AutoGreenIndicator.Parent = ScreenGui
    AutoGreenIndicator.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    AutoGreenIndicator.BorderSizePixel = 0
    AutoGreenIndicator.Position = UDim2.new(1, -220, 0, 10)
    AutoGreenIndicator.Size = UDim2.new(0, 210, 0, 100)
    AutoGreenIndicator.Visible = false

    local IndicatorCorner = Instance.new("UICorner")
    IndicatorCorner.CornerRadius = UDim.new(0, 10)
    IndicatorCorner.Parent = AutoGreenIndicator

    local IndicatorStroke = Instance.new("UIStroke")
    IndicatorStroke.Parent = AutoGreenIndicator
    IndicatorStroke.Color = Color3.fromRGB(100, 255, 100)
    IndicatorStroke.Thickness = 2

    local IndicatorTitle = Instance.new("TextLabel")
    IndicatorTitle.Parent = AutoGreenIndicator
    IndicatorTitle.BackgroundTransparency = 1
    IndicatorTitle.Position = UDim2.new(0, 10, 0, 5)
    IndicatorTitle.Size = UDim2.new(1, -20, 0, 25)
    IndicatorTitle.Font = Enum.Font.GothamBold
    IndicatorTitle.Text = "üéØ AUTO GREEN ACTIVE"
    IndicatorTitle.TextColor3 = Color3.fromRGB(100, 255, 100)
    IndicatorTitle.TextSize = 14
    IndicatorTitle.TextXAlignment = Enum.TextXAlignment.Left

    local IndicatorStatus = Instance.new("TextLabel")
    IndicatorStatus.Parent = AutoGreenIndicator
    IndicatorStatus.BackgroundTransparency = 1
    IndicatorStatus.Position = UDim2.new(0, 10, 0, 30)
    IndicatorStatus.Size = UDim2.new(1, -20, 0, 20)
    IndicatorStatus.Font = Enum.Font.Gotham
    IndicatorStatus.Text = "Status: Waiting for ball..."
    IndicatorStatus.TextColor3 = Color3.fromRGB(200, 200, 200)
    IndicatorStatus.TextSize = 12
    IndicatorStatus.TextXAlignment = Enum.TextXAlignment.Left

    local IndicatorPing = Instance.new("TextLabel")
    IndicatorPing.Parent = AutoGreenIndicator
    IndicatorPing.BackgroundTransparency = 1
    IndicatorPing.Position = UDim2.new(0, 10, 0, 50)
    IndicatorPing.Size = UDim2.new(1, -20, 0, 20)
    IndicatorPing.Font = Enum.Font.Gotham
    IndicatorPing.Text = "Ping: 0ms"
    IndicatorPing.TextColor3 = Color3.fromRGB(200, 200, 200)
    IndicatorPing.TextSize = 12
    IndicatorPing.TextXAlignment = Enum.TextXAlignment.Left

    local IndicatorTiming = Instance.new("TextLabel")
    IndicatorTiming.Parent = AutoGreenIndicator
    IndicatorTiming.BackgroundTransparency = 1
    IndicatorTiming.Position = UDim2.new(0, 10, 0, 70)
    IndicatorTiming.Size = UDim2.new(1, -20, 0, 20)
    IndicatorTiming.Font = Enum.Font.Gotham
    IndicatorTiming.Text = "Timing: 45ms (Adjusted)"
    IndicatorTiming.TextColor3 = Color3.fromRGB(200, 200, 200)
    IndicatorTiming.TextSize = 12
    IndicatorTiming.TextXAlignment = Enum.TextXAlignment.Left

    -- Title Bar
    local TitleBar = Instance.new("Frame")
    TitleBar.Name = "TitleBar"
    TitleBar.Parent = MainFrame
    TitleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    TitleBar.BorderSizePixel = 0
    TitleBar.Size = UDim2.new(1, 0, 0, 50)

    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 12)
    TitleCorner.Parent = TitleBar

    local TitleLabel2 = Instance.new("TextLabel")
    TitleLabel2.Name = "TitleLabel"
    TitleLabel2.Parent = TitleBar
    TitleLabel2.BackgroundTransparency = 1
    TitleLabel2.Position = UDim2.new(0, 15, 0, 0)
    TitleLabel2.Size = UDim2.new(0.7, 0, 1, 0)
    TitleLabel2.Font = Enum.Font.GothamBold
    TitleLabel2.Text = "üèÄ Basketball Legends Hub"
    TitleLabel2.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleLabel2.TextSize = 20
    TitleLabel2.TextXAlignment = Enum.TextXAlignment.Left

    -- Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Parent = TitleBar
    CloseButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    CloseButton.BorderSizePixel = 0
    CloseButton.Position = UDim2.new(1, -40, 0.5, -15)
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.Text = "√ó"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 24

    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 6)
    CloseCorner.Parent = CloseButton

    -- Tab Container
    local TabContainer = Instance.new("Frame")
    TabContainer.Name = "TabContainer"
    TabContainer.Parent = MainFrame
    TabContainer.BackgroundColor3 = Color3.fromRGB(30, 30, 45)
    TabContainer.BorderSizePixel = 0
    TabContainer.Position = UDim2.new(0, 10, 0, 60)
    TabContainer.Size = UDim2.new(1, -20, 0, 40)

    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, 8)
    TabCorner.Parent = TabContainer

    -- Home Tab
    local HomeTab = Instance.new("TextButton")
    HomeTab.Name = "HomeTab"
    HomeTab.Parent = TabContainer
    HomeTab.BackgroundColor3 = Color3.fromRGB(100, 50, 255)
    HomeTab.BorderSizePixel = 0
    HomeTab.Position = UDim2.new(0, 5, 0, 5)
    HomeTab.Size = UDim2.new(0.31, -5, 1, -10)
    HomeTab.Font = Enum.Font.GothamBold
    HomeTab.Text = "üè† Home"
    HomeTab.TextColor3 = Color3.fromRGB(255, 255, 255)
    HomeTab.TextSize = 16

    local HomeTabCorner = Instance.new("UICorner")
    HomeTabCorner.CornerRadius = UDim.new(0, 6)
    HomeTabCorner.Parent = HomeTab

    -- Misc Tab
    local MiscTab = Instance.new("TextButton")
    MiscTab.Name = "MiscTab"
    MiscTab.Parent = TabContainer
    MiscTab.BackgroundColor3 = Color3.fromRGB(45, 45, 65)
    MiscTab.BorderSizePixel = 0
    MiscTab.Position = UDim2.new(0.335, 0, 0, 5)
    MiscTab.Size = UDim2.new(0.31, -5, 1, -10)
    MiscTab.Font = Enum.Font.GothamBold
    MiscTab.Text = "‚öôÔ∏è Misc"
    MiscTab.TextColor3 = Color3.fromRGB(200, 200, 200)
    MiscTab.TextSize = 16

    local MiscTabCorner = Instance.new("UICorner")
    MiscTabCorner.CornerRadius = UDim.new(0, 6)
    MiscTabCorner.Parent = MiscTab

    -- Credits Tab
    local CreditsTab = Instance.new("TextButton")
    CreditsTab.Name = "CreditsTab"
    CreditsTab.Parent = TabContainer
    CreditsTab.BackgroundColor3 = Color3.fromRGB(45, 45, 65)
    CreditsTab.BorderSizePixel = 0
    CreditsTab.Position = UDim2.new(0.67, -2.5, 0, 5)
    CreditsTab.Size = UDim2.new(0.31, -5, 1, -10)
    CreditsTab.Font = Enum.Font.GothamBold
    CreditsTab.Text = "‚≠ê Credits"
    CreditsTab.TextColor3 = Color3.fromRGB(200, 200, 200)
    CreditsTab.TextSize = 16

    local CreditsTabCorner = Instance.new("UICorner")
    CreditsTabCorner.CornerRadius = UDim.new(0, 6)
    CreditsTabCorner.Parent = CreditsTab

    -- Home Page
    local HomePage = Instance.new("ScrollingFrame")
    HomePage.Name = "HomePage"
    HomePage.Parent = MainFrame
    HomePage.BackgroundTransparency = 1
    HomePage.Position = UDim2.new(0, 10, 0, 110)
    HomePage.Size = UDim2.new(1, -20, 1, -120)
    HomePage.Visible = true
    HomePage.ScrollBarThickness = 6
    HomePage.ScrollBarImageColor3 = Color3.fromRGB(100, 50, 255)
    HomePage.BorderSizePixel = 0
    HomePage.CanvasSize = UDim2.new(0, 0, 0, 350)

    -- Auto Green Toggle
    local AutoGreenToggle = Instance.new("TextButton")
    AutoGreenToggle.Name = "AutoGreenToggle"
    AutoGreenToggle.Parent = HomePage
    AutoGreenToggle.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    AutoGreenToggle.BorderSizePixel = 0
    AutoGreenToggle.Position = UDim2.new(0, 10, 0, 10)
    AutoGreenToggle.Size = UDim2.new(1, -20, 0, 50)
    AutoGreenToggle.Font = Enum.Font.GothamBold
    AutoGreenToggle.Text = "üéØ Auto Green: OFF"
    AutoGreenToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
    AutoGreenToggle.TextSize = 18

    local AutoGreenCorner = Instance.new("UICorner")
    AutoGreenCorner.CornerRadius = UDim.new(0, 10)
    AutoGreenCorner.Parent = AutoGreenToggle

    -- Auto Guard Toggle
    local AutoGuardToggle = Instance.new("TextButton")
    AutoGuardToggle.Name = "AutoGuardToggle"
    AutoGuardToggle.Parent = HomePage
    AutoGuardToggle.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    AutoGuardToggle.BorderSizePixel = 0
    AutoGuardToggle.Position = UDim2.new(0, 10, 0, 70)
    AutoGuardToggle.Size = UDim2.new(1, -20, 0, 50)
    AutoGuardToggle.Font = Enum.Font.GothamBold
    AutoGuardToggle.Text = "üõ°Ô∏è Auto Guard: OFF"
    AutoGuardToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
    AutoGuardToggle.TextSize = 18

    local AutoGuardCorner = Instance.new("UICorner")
    AutoGuardCorner.CornerRadius = UDim.new(0, 10)
    AutoGuardCorner.Parent = AutoGuardToggle

    -- Features Label
    local FeaturesLabel = Instance.new("TextLabel")
    FeaturesLabel.Name = "FeaturesLabel"
    FeaturesLabel.Parent = HomePage
    FeaturesLabel.BackgroundTransparency = 1
    FeaturesLabel.Position = UDim2.new(0, 10, 0, 130)
    FeaturesLabel.Size = UDim2.new(1, -20, 0, 30)
    FeaturesLabel.Font = Enum.Font.GothamBold
    FeaturesLabel.Text = "üìã Features:"
    FeaturesLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    FeaturesLabel.TextSize = 16
    FeaturesLabel.TextXAlignment = Enum.TextXAlignment.Left

    -- Features List
    local FeaturesList = Instance.new("TextLabel")
    FeaturesList.Name = "FeaturesList"
    FeaturesList.Parent = HomePage
    FeaturesList.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    FeaturesList.BorderSizePixel = 0
    FeaturesList.Position = UDim2.new(0, 10, 0, 165)
    FeaturesList.Size = UDim2.new(1, -20, 0, 175)
    FeaturesList.Font = Enum.Font.Gotham
    FeaturesList.Text = "‚úÖ Auto Green (Perfect Shots)\n   ‚Ä¢ Ping-adjusted timing\n   ‚Ä¢ Visual indicator when active\n   ‚Ä¢ Hold E to auto shoot\n‚úÖ Auto Guard\n‚úÖ FPS Booster\n‚úÖ Lag Reducer\n‚úÖ Real-time performance stats"
    FeaturesList.TextColor3 = Color3.fromRGB(200, 200, 200)
    FeaturesList.TextSize = 13
    FeaturesList.TextYAlignment = Enum.TextYAlignment.Top
    FeaturesList.TextXAlignment = Enum.TextXAlignment.Left

    local FeaturesCorner = Instance.new("UICorner")
    FeaturesCorner.CornerRadius = UDim.new(0, 8)
    FeaturesCorner.Parent = FeaturesList

    local FeaturesPadding = Instance.new("UIPadding")
    FeaturesPadding.Parent = FeaturesList
    FeaturesPadding.PaddingLeft = UDim.new(0, 15)
    FeaturesPadding.PaddingTop = UDim.new(0, 10)

    -- Misc Page
    local MiscPage = Instance.new("ScrollingFrame")
    MiscPage.Name = "MiscPage"
    MiscPage.Parent = MainFrame
    MiscPage.BackgroundTransparency = 1
    MiscPage.Position = UDim2.new(0, 10, 0, 110)
    MiscPage.Size = UDim2.new(1, -20, 1, -120)
    MiscPage.Visible = false
    MiscPage.ScrollBarThickness = 6
    MiscPage.ScrollBarImageColor3 = Color3.fromRGB(100, 50, 255)
    MiscPage.BorderSizePixel = 0
    MiscPage.CanvasSize = UDim2.new(0, 0, 0, 450)

    -- FPS Booster Button
    local FPSBoostButton = Instance.new("TextButton")
    FPSBoostButton.Name = "FPSBoostButton"
    FPSBoostButton.Parent = MiscPage
    FPSBoostButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
    FPSBoostButton.BorderSizePixel = 0
    FPSBoostButton.Position = UDim2.new(0, 10, 0, 10)
    FPSBoostButton.Size = UDim2.new(1, -20, 0, 45)
    FPSBoostButton.Font = Enum.Font.GothamBold
    FPSBoostButton.Text = "üöÄ FPS Booster (Removes Effects)"
    FPSBoostButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    FPSBoostButton.TextSize = 16

    local FPSBoostCorner = Instance.new("UICorner")
    FPSBoostCorner.CornerRadius = UDim.new(0, 8)
    FPSBoostCorner.Parent = FPSBoostButton

    -- Lag Reducer Button
    local LagReducerButton = Instance.new("TextButton")
    LagReducerButton.Name = "LagReducerButton"
    LagReducerButton.Parent = MiscPage
    LagReducerButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
    LagReducerButton.BorderSizePixel = 0
    LagReducerButton.Position = UDim2.new(0, 10, 0, 65)
    LagReducerButton.Size = UDim2.new(1, -20, 0, 45)
    LagReducerButton.Font = Enum.Font.GothamBold
    LagReducerButton.Text = "‚ö° Lag Reducer (Optimize Settings)"
    LagReducerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    LagReducerButton.TextSize = 16

    local LagReducerCorner = Instance.new("UICorner")
    LagReducerCorner.CornerRadius = UDim.new(0, 8)
    LagReducerCorner.Parent = LagReducerButton

    -- Remove Textures Button
    local RemoveTexturesButton = Instance.new("TextButton")
    RemoveTexturesButton.Name = "RemoveTexturesButton"
    RemoveTexturesButton.Parent = MiscPage
    RemoveTexturesButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
    RemoveTexturesButton.BorderSizePixel = 0
    RemoveTexturesButton.Position = UDim2.new(0, 10, 0, 120)
    RemoveTexturesButton.Size = UDim2.new(1, -20, 0, 45)
    RemoveTexturesButton.Font = Enum.Font.GothamBold
    RemoveTexturesButton.Text = "üé® Remove Textures (Lower Quality)"
    RemoveTexturesButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    RemoveTexturesButton.TextSize = 16

    local RemoveTexturesCorner = Instance.new("UICorner")
    RemoveTexturesCorner.CornerRadius = UDim.new(0, 8)
    RemoveTexturesCorner.Parent = RemoveTexturesButton

    -- Network Optimizer Button
    local NetworkButton = Instance.new("TextButton")
    NetworkButton.Name = "NetworkButton"
    NetworkButton.Parent = MiscPage
    NetworkButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
    NetworkButton.BorderSizePixel = 0
    NetworkButton.Position = UDim2.new(0, 10, 0, 175)
    NetworkButton.Size = UDim2.new(1, -20, 0, 45)
    NetworkButton.Font = Enum.Font.GothamBold
    NetworkButton.Text = "üì° Optimize Network (Reduce Ping)"
    NetworkButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    NetworkButton.TextSize = 16

    local NetworkCorner = Instance.new("UICorner")
    NetworkCorner.CornerRadius = UDim.new(0, 8)
    NetworkCorner.Parent = NetworkButton

    -- FPS Counter Frame
    local FPSFrame = Instance.new("Frame")
    FPSFrame.Name = "FPSFrame"
    FPSFrame.Parent = MiscPage
    FPSFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    FPSFrame.BorderSizePixel = 0
    FPSFrame.Position = UDim2.new(0, 10, 0, 230)
    FPSFrame.Size = UDim2.new(1, -20, 0, 80)

    local FPSFrameCorner = Instance.new("UICorner")
    FPSFrameCorner.CornerRadius = UDim.new(0, 8)
    FPSFrameCorner.Parent = FPSFrame

    local FPSLabel = Instance.new("TextLabel")
    FPSLabel.Name = "FPSLabel"
    FPSLabel.Parent = FPSFrame
    FPSLabel.BackgroundTransparency = 1
    FPSLabel.Position = UDim2.new(0, 10, 0, 10)
    FPSLabel.Size = UDim2.new(1, -20, 0, 30)
    FPSLabel.Font = Enum.Font.GothamBold
    FPSLabel.Text = "üìä FPS Counter"
    FPSLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    FPSLabel.TextSize = 16
    FPSLabel.TextXAlignment = Enum.TextXAlignment.Left

    local FPSValueLabel = Instance.new("TextLabel")
    FPSValueLabel.Name = "FPSValueLabel"
    FPSValueLabel.Parent = FPSFrame
    FPSValueLabel.BackgroundTransparency = 1
    FPSValueLabel.Position = UDim2.new(0, 10, 0, 40)
    FPSValueLabel.Size = UDim2.new(1, -20, 0, 30)
    FPSValueLabel.Font = Enum.Font.GothamBold
    FPSValueLabel.Text = "FPS: Calculating..."
    FPSValueLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    FPSValueLabel.TextSize = 20
    FPSValueLabel.TextXAlignment = Enum.TextXAlignment.Left

    -- Ping Display
    local PingLabel = Instance.new("TextLabel")
    PingLabel.Name = "PingLabel"
    PingLabel.Parent = MiscPage
    PingLabel.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    PingLabel.BorderSizePixel = 0
    PingLabel.Position = UDim2.new(0, 10, 0, 320)
    PingLabel.Size = UDim2.new(1, -20, 0, 60)
    PingLabel.Font = Enum.Font.GothamBold
    PingLabel.Text = "üì∂ Ping: Calculating..."
    PingLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
    PingLabel.TextSize = 18

    local PingCorner = Instance.new("UICorner")
    PingCorner.CornerRadius = UDim.new(0, 8)
    PingCorner.Parent = PingLabel

    -- Info Label
    local InfoLabel = Instance.new("TextLabel")
    InfoLabel.Name = "InfoLabel"
    InfoLabel.Parent = MiscPage
    InfoLabel.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    InfoLabel.BorderSizePixel = 0
    InfoLabel.Position = UDim2.new(0, 10, 0, 390)
    InfoLabel.Size = UDim2.new(1, -20, 0, 50)
    InfoLabel.Font = Enum.Font.Gotham
    InfoLabel.Text = "üí° Tip: Auto Green timing adjusts to your ping automatically"
    InfoLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    InfoLabel.TextSize = 12
    InfoLabel.TextWrapped = true

    local InfoCorner = Instance.new("UICorner")
    InfoCorner.CornerRadius = UDim.new(0, 8)
    InfoCorner.Parent = InfoLabel

    -- Credits Page
    local CreditsPage = Instance.new("Frame")
    CreditsPage.Name = "CreditsPage"
    CreditsPage.Parent = MainFrame
    CreditsPage.BackgroundTransparency = 1
    CreditsPage.Position = UDim2.new(0, 10, 0, 110)
    CreditsPage.Size = UDim2.new(1, -20, 1, -120)
    CreditsPage.Visible = false

    -- Creator Info
    local CreatorLabel = Instance.new("TextLabel")
    CreatorLabel.Name = "CreatorLabel"
    CreatorLabel.Parent = CreditsPage
    CreatorLabel.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    CreatorLabel.BorderSizePixel = 0
    CreatorLabel.Position = UDim2.new(0, 10, 0, 10)
    CreatorLabel.Size = UDim2.new(1, -20, 0, 80)
    CreatorLabel.Font = Enum.Font.GothamBold
    CreatorLabel.Text = "üëë Created by\nkasen102399"
    CreatorLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    CreatorLabel.TextSize = 20

    local CreatorCorner = Instance.new("UICorner")
    CreatorCorner.CornerRadius = UDim.new(0, 10)
    CreatorCorner.Parent = CreatorLabel

    -- Follow Label
    local FollowLabel = Instance.new("TextLabel")
    FollowLabel.Name = "FollowLabel"
    FollowLabel.Parent = CreditsPage
    FollowLabel.BackgroundColor3 = Color3.fromRGB(35, 35, 50)
    FollowLabel.BorderSizePixel = 0
    FollowLabel.Position = UDim2.new(0, 10, 0, 100)
    FollowLabel.Size = UDim2.new(1, -20, 0, 50)
    FollowLabel.Font = Enum.Font.Gotham
    FollowLabel.Text = "üíú Go follow for more scripts!"
    FollowLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    FollowLabel.TextSize = 16

    local FollowCorner = Instance.new("UICorner")
    FollowCorner.CornerRadius = UDim.new(0, 10)
    FollowCorner.Parent = FollowLabel

    -- Discord Button
    local DiscordButton = Instance.new("TextButton")
    DiscordButton.Name = "DiscordButton"
    DiscordButton.Parent = CreditsPage
    DiscordButton.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
    DiscordButton.BorderSizePixel = 0
    DiscordButton.Position = UDim2.new(0, 10, 0, 160)
    DiscordButton.Size = UDim2.new(1, -20, 0, 50)
    DiscordButton.Font = Enum.Font.GothamBold
    DiscordButton.Text = "üí¨ Copy Discord Link"
    DiscordButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    DiscordButton.TextSize = 18

    local DiscordCorner = Instance.new("UICorner")
    DiscordCorner.CornerRadius = UDim.new(0, 10)
    DiscordCorner.Parent = DiscordButton

    -- Functions
    local function sendNotification(title, message, duration)
        local StarterGui = game:GetService("StarterGui")
        StarterGui:SetCore("SendNotification", {
            Title = title;
            Text = message;
            Duration = duration or 5;
        })
    end

    -- FPS Booster Function
    local function boostFPS()
        local decalsyeeted = true
        local g = game
        local w = g.Workspace
        local l = g.Lighting
        local t = w.Terrain
        
        -- Remove decals and textures
        for i, v in pairs(w:GetDescendants()) do
            if v:IsA("BasePart") and not v.Parent:FindFirstChild("Humanoid") then
                v.Material = Enum.Material.SmoothPlastic
                v.Reflectance = 0
            elseif (v:IsA("Decal") or v:IsA("Texture")) and decalsyeeted then
                v.Transparency = 1
            elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
                v.Lifetime = NumberRange.new(0)
            elseif v:IsA("Fire") or v:IsA("SpotLight") or v:IsA("Smoke") or v:IsA("Sparkles") then
                v.Enabled = false
            end
        end
        
        -- Lighting optimizations
        for i, e in pairs(l:GetChildren()) do
            if e:IsA("BlurEffect") or e:IsA("SunRaysEffect") or e:IsA("ColorCorrectionEffect") or e:IsA("BloomEffect") or e:IsA("DepthOfFieldEffect") then
                e.Enabled = false
            end
        end
        
        -- Terrain optimization
        t.WaterWaveSize = 0
        t.WaterWaveSpeed = 0
        t.WaterReflectance = 0
        t.WaterTransparency = 0
        
        -- Graphics settings
        settings().Rendering.QualityLevel = 1
        
        sendNotification("‚úÖ FPS Boost", "FPS optimization applied!", 3)
    end

    -- Lag Reducer Function
    local function reduceLag()
        -- Reduce rendering distance
        settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
        
        -- Optimize workspace
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("BasePart") then
                obj.CastShadow = false
            end
        end
        
        sendNotification("‚úÖ Lag Reduced", "Lag reduction applied!", 3)
    end

    -- Remove Textures Function
    local function removeTextures()
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("Decal") or obj:IsA("Texture") then
                obj:Destroy()
            elseif obj:IsA("BasePart") then
                obj.Material = Enum.Material.SmoothPlastic
            end
        end
        sendNotification("‚úÖ Textures Removed", "All textures removed!", 3)
    end

    -- Network Optimizer Function
    local function optimizeNetwork()
        settings().Network.IncomingReplicationLag = 0
        settings().Network.PhysicsSend = 1
        settings().Network.FreeMemoryOnDisconnect = true
        sendNotification("‚úÖ Network Optimized", "Network settings optimized!", 3)
    end

    -- FPS Counter
    local frameCount = 0
    local lastTime = tick()
    
    RunService.RenderStepped:Connect(function()
        frameCount = frameCount + 1
        local currentTime = tick()
        
        if currentTime - lastTime >= 1 then
            local fps = frameCount / (currentTime - lastTime)
            FPSValueLabel.Text = "FPS: " .. math.floor(fps)
            
            -- Color code FPS
            if fps >= 60 then
                FPSValueLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
            elseif fps >= 30 then
                FPSValueLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
            else
                FPSValueLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            end
            
            frameCount = 0
            lastTime = currentTime
        end
    end)

    -- Ping Calculator with Auto Green Adjustment
    spawn(function()
        while wait(1) do
            pcall(function()
                local pingString = Stats.Network.ServerStatsItem["Data Ping"]:GetValueString()
                local pingValue = tonumber(pingString:match("%d+"))
                
                if pingValue then
                    CurrentPing = pingValue
                    PingLabel.Text = "üì∂ Ping: " .. pingValue .. "ms"
                    IndicatorPing.Text = "Ping: " .. pingValue .. "ms"
                    
                    -- Update timing based on ping
                    local adjustedTiming = 45 + (pingValue / 2)
                    IndicatorTiming.Text = "Timing: " .. math.floor(adjustedTiming) .. "ms (Adjusted)"
                    
                    -- Color code ping
                    if pingValue < 50 then
                        PingLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
                        IndicatorPing.TextColor3 = Color3.fromRGB(100, 255, 100)
                    elseif pingValue < 100 then
                        PingLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
                        IndicatorPing.TextColor3 = Color3.fromRGB(255, 255, 100)
                    else
                        PingLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
                        IndicatorPing.TextColor3 = Color3.fromRGB(255, 100, 100)
                    end
                end
            end)
        end
    end)

    -- Auto Green Function with Ping Adjustment
    local function setupAutoGreen()
        local Player = Plr.LocalPlayer
        local success, Bar = pcall(function()
            return Player.PlayerGui.Visual.Shooting.Bar
        end)
        
        if not success or not Bar then
            sendNotification("‚ùå Error", "Shooting bar not found!", 3)
            return
        end
        
        local shooting = false
        
        UIS.InputBegan:Connect(function(input, gameProcessedEvent)
            if gameProcessedEvent then return end
            
            if input.KeyCode == Enum.KeyCode.E and AutoGreenEnabled then
                local hasBasketball = Player.Character and Player.Character:FindFirstChild("Basketball")
                
                if hasBasketball then
                    shooting = true
                    AutoGreenIndicator.Visible = true
                    IndicatorStatus.Text = "Status: Shooting..."
                    IndicatorStatus.TextColor3 = Color3.fromRGB(100, 255, 100)
                    
                    while UIS:IsKeyDown(Enum.KeyCode.E) and AutoGreenEnabled do
                        pcall(function()
                            -- Calculate ping-adjusted timing
                            local baseTiming = 0.045
                            local pingAdjustment = CurrentPing / 2000
                            local adjustedTiming = baseTiming + pingAdjustment
                            
                            -- Target size adjusted for ping
                            local targetSize = 0.9
                            
                            if Bar.Size.Y.Scale > targetSize then
                                Bar:TweenSize(
                                    UDim2.new(1, 0, 1, 0),
                                    Enum.EasingDirection.Out,
                                    Enum.EasingStyle.Linear,
                                    adjustedTiming,
                                    true
                                )
                                task.wait()
                                Bar.Size = UDim2.new(1, 0, 1, 0)
                            end
                        end)
                        task.wait()
                    end
                    
                    shooting = false
                    IndicatorStatus.Text = "Status: Waiting for ball..."
                    IndicatorStatus.TextColor3 = Color3.fromRGB(200, 200, 200)
                else
                    IndicatorStatus.Text = "Status: No basketball!"
                    IndicatorStatus.TextColor3 = Color3.fromRGB(255, 100, 100)
                    task.wait(1)
                    IndicatorStatus.Text = "Status: Waiting for ball..."
                    IndicatorStatus.TextColor3 = Color3.fromRGB(200, 200, 200)
                end
            end
        end)
        
        UIS.InputEnded:Connect(function(input, gameProcessedEvent)
            if input.KeyCode == Enum.KeyCode.E then
                shooting = false
            end
        end)
    end

    -- Auto Guard Function
    local function setupAutoGuard()
        sendNotification("üõ°Ô∏è Auto Guard", "Auto Guard is now active!", 3)
        -- Placeholder for auto guard logic
        -- This would monitor opponent positions and auto-press block button
    end

    local function switchTab(tabName)
        if tabName == "Home" then
            HomePage.Visible = true
            MiscPage.Visible = false
            CreditsPage.Visible = false
            HomeTab.BackgroundColor3 = Color3.fromRGB(100, 50, 255)
            HomeTab.TextColor3 = Color3.fromRGB(255, 255, 255)
            MiscTab.BackgroundColor3 = Color3.fromRGB(45, 45, 65)
            MiscTab.TextColor3 = Color3.fromRGB(200, 200, 200)
            CreditsTab.BackgroundColor3 = Color3.fromRGB(45, 45, 65)
            CreditsTab.TextColor3 = Color3.fromRGB(200, 200, 200)
        elseif tabName == "Misc" then
            HomePage.Visible = false
            MiscPage.Visible = true
            CreditsPage.Visible = false
            HomeTab.BackgroundColor3 = Color3.fromRGB(45, 45, 65)
            HomeTab.TextColor3 = Color3.fromRGB(200, 200, 200)
            MiscTab.BackgroundColor3 = Color3.fromRGB(100, 50, 255)
            MiscTab.TextColor3 = Color3.fromRGB(255, 255, 255)
            CreditsTab.BackgroundColor3 = Color3.fromRGB(45, 45, 65)
            CreditsTab.TextColor3 = Color3.fromRGB(200, 200, 200)
        elseif tabName == "Credits" then
            HomePage.Visible = false
            MiscPage.Visible = false
            CreditsPage.Visible = true
            HomeTab.BackgroundColor3 = Color3.fromRGB(45, 45, 65)
            HomeTab.TextColor3 = Color3.fromRGB(200, 200, 200)
            MiscTab.BackgroundColor3 = Color3.fromRGB(45, 45, 65)
            MiscTab.TextColor3 = Color3.fromRGB(200, 200, 200)
            CreditsTab.BackgroundColor3 = Color3.fromRGB(100, 50, 255)
            CreditsTab.TextColor3 = Color3.fromRGB(255, 255, 255)
        end
    end

    local function addHoverEffect(button, normalColor, hoverColor)
        button.MouseEnter:Connect(function()
            TS:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = hoverColor}):Play()
        end)
        button.MouseLeave:Connect(function()
            TS:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = normalColor}):Play()
        end)
    end

    -- Hover Effects
    addHoverEffect(DiscordButton, Color3.fromRGB(88, 101, 242), Color3.fromRGB(108, 121, 255))
    addHoverEffect(CloseButton, Color3.fromRGB(255, 50, 50), Color3.fromRGB(255, 80, 80))
    addHoverEffect(FPSBoostButton, Color3.fromRGB(50, 150, 50), Color3.fromRGB(70, 170, 70))
    addHoverEffect(LagReducerButton, Color3.fromRGB(50, 150, 50), Color3.fromRGB(70, 170, 70))
    addHoverEffect(RemoveTexturesButton, Color3.fromRGB(50, 150, 50), Color3.fromRGB(70, 170, 70))
    addHoverEffect(NetworkButton, Color3.fromRGB(50, 150, 50), Color3.fromRGB(70, 170, 70))

    -- Button Connections
    HomeTab.MouseButton1Click:Connect(function()
        switchTab("Home")
    end)

    MiscTab.MouseButton1Click:Connect(function()
        switchTab("Misc")
    end)

    CreditsTab.MouseButton1Click:Connect(function()
        switchTab("Credits")
    end)

    -- Auto Green Toggle
    AutoGreenToggle.MouseButton1Click:Connect(function()
        AutoGreenEnabled = not AutoGreenEnabled
        
        if AutoGreenEnabled then
            AutoGreenToggle.Text = "üéØ Auto Green: ON"
            AutoGreenToggle.BackgroundColor3 = Color3.fromRGB(50, 255, 50)
            AutoGreenIndicator.Visible = true
            setupAutoGreen()
            sendNotification("‚úÖ Auto Green", "Auto Green enabled! Hold E to shoot.", 3)
        else
            AutoGreenToggle.Text = "üéØ Auto Green: OFF"
            AutoGreenToggle.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
            AutoGreenIndicator.Visible = false
            sendNotification("‚ùå Auto Green", "Auto Green disabled.", 3)
        end
    end)

    -- Auto Guard Toggle
    AutoGuardToggle.MouseButton1Click:Connect(function()
        AutoGuardEnabled = not AutoGuardEnabled
        
        if AutoGuardEnabled then
            AutoGuardToggle.Text = "üõ°Ô∏è Auto Guard: ON"
            AutoGuardToggle.BackgroundColor3 = Color3.fromRGB(50, 150, 255)
            setupAutoGuard()
        else
            AutoGuardToggle.Text = "üõ°Ô∏è Auto Guard: OFF"
            AutoGuardToggle.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
            sendNotification("‚ùå Auto Guard", "Auto Guard disabled.", 3)
        end
    end)

    FPSBoostButton.MouseButton1Click:Connect(function()
        boostFPS()
    end)

    LagReducerButton.MouseButton1Click:Connect(function()
        reduceLag()
    end)

    RemoveTexturesButton.MouseButton1Click:Connect(function()
        removeTextures()
    end)

    NetworkButton.MouseButton1Click:Connect(function()
        optimizeNetwork()
    end)

    DiscordButton.MouseButton1Click:Connect(function()
        setclipboard("https://discord.gg/Q2BCA68G")
        sendNotification("üìã Copied!", "Discord link copied to clipboard", 3)
        DiscordButton.Text = "‚úÖ Copied to Clipboard!"
        wait(2)
        DiscordButton.Text = "üí¨ Copy Discord Link"
    end)

    CloseButton.MouseButton1Click:Connect(function()
        TS:Create(MainFrame, TweenInfo.new(0.3), {Size = UDim2.new(0, 0, 0, 0)}):Play()
        wait(0.3)
        ScreenGui:Destroy()
    end)

    -- Opening Animation
    MainFrame.Size = UDim2.new(0, 0, 0, 0)
    MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    TS:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back), {
        Size = UDim2.new(0, 450, 0, 400),
        Position = UDim2.new(0.5, -225, 0.5, -200)
    }):Play()

    wait(0.5)
    sendNotification("üèÄ Welcome!", "Basketball Legends Hub Loaded - Toggle features in Home tab!", 5)
end)
